<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>cloud-qualification | TeddyGoodman</title><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="cloud-qualification" /><meta name="author" content="Teddy" /><meta property="og:locale" content="en_US" /><meta name="description" content="云认证" /><meta property="og:description" content="云认证" /><link rel="canonical" href="http://localhost:4000/posts/cloud-qualification/" /><meta property="og:url" content="http://localhost:4000/posts/cloud-qualification/" /><meta property="og:site_name" content="TeddyGoodman" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-26T13:30:07+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="cloud-qualification" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Teddy" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/cloud-qualification/"},"url":"http://localhost:4000/posts/cloud-qualification/","author":{"@type":"Person","name":"Teddy"},"headline":"cloud-qualification","dateModified":"2020-07-26T13:30:07+08:00","datePublished":"2020-07-26T13:30:07+08:00","description":"云认证","@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script> window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>'); </script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script> <script src="/assets/js/dist/commons.js" async></script> <script src="/assets/js/dist/timeago.min.js" async></script><link rel="preload" as="style" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/syntax.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/syntax.css"><link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css" /> <script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script> <script src="/assets/js/dist/toc.min.js" async></script> <script src="/assets/js/dist/tooltip-loader.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/avatar/avatar.jpg" alt="avatar"> </a></div><div class="profile-text mt-3"><div id="site-title"> <a href="/">TeddyGoodman</a></div><div id="site-subtitle" class="font-italic">-- Cloud Computing Enginer --</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/TeddyGoodman" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="javascript:window.open('mailto:' + ['teddyynagoodman','gmail.com'].join('@'))"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" target="_blank"> <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>cloud-qualification</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>cloud-qualification</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago" data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 26, 2020, 1:30 PM +0800"> Jul 26, 2020 <i class="unloaded">2020-07-26T13:30:07+08:00</i> </span> by <span class="author"> Teddy </span></div></div><div class="post-content"><h1 id="云认证">云认证</h1><blockquote><p>学习&amp;考试准备</p></blockquote><ul><li>学习路径<ol><li>云计算基础</li><li><strong>云服务器产品</strong></li><li><strong>云网络产品</strong></li><li>CDN加速产品</li><li>云存储产品</li><li>数据库产品</li><li>安全产品</li><li>视频与通信服务</li></ol></li></ul><h1 id="i-云计算基础">I. 云计算基础</h1><h2 id="11-数据中心">1.1 数据中心</h2><h3 id="111-edc">1.1.1 EDC</h3><ul><li>TCO = CapEx + OpeEx + OppCost</li><li>TVO = IT带来的业务价值与收益</li></ul><table><thead><tr><th>L4<th>业务应用层 <em>各种应用系统</em><tbody><tr><td>L3<td>应用支撑层 <em>中间件、消息、开发环境、API</em> / 数据分析层 <em>数据库</em><tr><td>L2<td>IT基础设施 <em>服务器、网络、存储、安全</em><tr><td>L1<td>机房设施层 <em>电源、机柜</em><tr><td>L0<td>楼宇系统层 <em>机房、传输</em></table><ul><li><p>中心等级、云DC在T3级以上，并行维护+99.982%+1.6H年宕机时间</p></li><li><p>IDC资源出租，托管型、租用型，成本低，上线块，标准化，电信级可靠、运维管理；</p><ul><li>托管，企业要购买硬件+管理维护+业务</li><li>租用，运营商要硬件投入、电力公园、管理维护</li></ul></li></ul><h3 id="112-云计算">1.1.2 云计算</h3><ul><li><strong>按需服务，按量付费的服务模式，按需可配置的计算资源共享池</strong></li><li><p>2006 Google CEO提出云计算 Cloud Computing</p></li><li>独立自建 &gt; 部分租用 &gt; 按需使用</li><li>成本低，上线时间很快，运维管理简单、弹性扩展、范围L0-L4，自主公有云、私有云</li></ul><h2 id="12-核心特征">1.2 核心特征</h2><h3 id="121-模型">1.2.1 模型</h3><table><thead><tr><th>公有云<th>私有云<th>混合云<th>行业云<tbody><tr><td>服务目录<td> <td>服务生命周期管理<td>运维管理系统<tr><td>SaaS 软件即服务<td>服务编排调度<td>服务生命周期管理<td>运维管理系统<tr><td>PaaS 平台即服务<td>服务编排调度<td>服务生命周期管理<td>运维管理系统<tr><td>IaaS 基础设施即服务<td>服务编排调度<td>服务生命周期管理<td>运维管理系统<tr><td>虚拟基础设施<td> <td> <td>运维管理系统<tr><td>物理基础设施<td> <td> <td>运维管理系统</table><ul><li>资源池化 <em>提升利用率/可用性</em></li><li>弹性扩展 <em>业务需求/成本均衡</em></li><li>按需服务 <em>资源/时间</em></li><li>泛网络访问 <em>随时随地/高质量</em></li><li>服务可度量 <em>服务计费/精细化运营</em></li></ul><hr /><h3 id="122-服务模式">1.2.2 服务模式</h3><ul><li>服务使用/应用层/中间层/基础设施</li><li>租户维护如下</li></ul><table><thead><tr><th>Iaas<th>PaaS<th>SaaS<tbody><tr><td>服务使用/应用层/中间层<td>服务使用/应用层<td>服务使用</table><h4 id="技术架构">技术架构</h4><ul><li>SaaS</li></ul><table><thead><tr><th>应用层<th> <th> <th> <th> <tbody><tr><td>Portal<td>CRM<td>ERP<td>OA<td>其他</table><ul><li>PaaS</li></ul><table><thead><tr><th>中间层<th> <th> <th> <th> <tbody><tr><td> <td>访问控制<td>负载均衡<td>开发工具<td>服务总线<tr><td><strong>中间件</strong><td> <td> <td> <td> <tr><td><strong>数据库</strong><td> <td> <td> <td> </table><ul><li>IaaS</li></ul><table><thead><tr><th>基础架构层<th> <th> <th> <th> <tbody><tr><td> <td>计算资源池<td>存储资源池<td>网络资源池<td>其他资源池<tr><td><strong>虚拟化</strong><td> <td> <td> <td> <tr><td> <td>主机<td>存储<td>网络<td>其他基础设施</table><ul><li><strong>管理层</strong></li></ul><table><thead><tr><th>云计算管理<th> <th> <th> <th> <th> <th> <th> <th> <tbody><tr><td> <td>帐号管理<td>配置管理<td>计费管理<td>安全管理<td>流程管理<td>运维管理<td>SLA监控<td>API</table><h3 id="123-部署方式">1.2.3 部署方式</h3><ul><li><p>公、私、混、行业</p></li><li>公、私区别<ul><li>多租户、不同组织；同组织、单租户</li><li>使用权属于客户、所有权属于服务商；使用权、所有权都属于客户</li><li>成本低；成本高</li><li>运维较简单；较为复杂</li><li>较低的自主可控；较高的自主可控</li></ul></li><li>混合<ul><li>公+私，核心为私，非核心为公</li><li>多云统一，多云网关统一管理多个服务商的云服务，高质量议价权、多灾备</li></ul></li><li>行业<ul><li>针对行业或者互联网产品深度优化；</li></ul></li></ul><h2 id="13-关键技术">1.3 关键技术</h2><h3 id="131-计算虚拟化">1.3.1 计算虚拟化</h3><ul><li>虚拟化前，单一OS，软件和硬件强耦合，利用率低，扩展性和容错性差</li><li>裸金属架构，虚拟化层运行在硬件上，提供CPU和内存资源池、VM、软硬解耦，故障迁移、弹性扩展</li><li>分类<ul><li>全虚拟化，OS直接运行在虚拟化层上<ul><li>ESXi<ul><li>User App</li><li>GuestOS</li><li>虚拟化层，OS特权指令通过BT转换执行</li><li>硬件</li></ul></li><li>KVM<ul><li>User App</li><li>GusetOS</li><li>虚拟化层，OS特权指令切换到根模式执行</li><li>硬件</li></ul></li></ul></li><li>半虚拟化，OS需要修改安装额外的驱动<ul><li>Xen<ul><li>User APP</li><li>PV GuestOS</li><li>虚拟化，OS特权指令超级调用Hypercall</li><li>硬件</li></ul></li></ul></li></ul></li><li>对比<ul><li>KVM<ul><li>全虚拟化</li><li>KVM内核完成CPU和内存虚拟化</li><li>QEMU完成磁盘和网络的虚拟化</li><li>Linux进程进行虚拟化调度和管理</li></ul></li><li>Xen<ul><li>全/半</li><li>Xen内核完成CPU、内存</li><li>Dom0完成磁盘和网络</li><li>Dom0完成虚拟化调度和管理</li></ul></li><li>ESXi<ul><li>全</li><li>ESXi内核完成CPU、内存</li><li>虚拟化内核完成磁盘和网络IO</li><li>虚拟化内核完成虚拟化调度和管理</li></ul></li></ul></li><li>KVM<ul><li>VM是Linux进程，有进程管理模块进行管理</li><li>KVM内核负责CPU和内存虚拟化，QEMU负责I/O虚拟化</li><li>硬件支持Intel-VT，AMD-V</li></ul></li><li>KVM优势<ul><li>高性能</li><li>易扩展</li><li>易管理</li></ul></li></ul><h3 id="132-分布式数据存储-serversan">1.3.2 分布式数据存储 ServerSAN</h3><ul><li>原理<ul><li>将server上分散的本地盘整合为资源池</li><li>读写元<ul><li>承接应用IO</li></ul></li><li>控制元<ul><li>Hash算法确保I/O分布到各个节点</li></ul></li><li>存储元<ul><li>负责写入数据到存储块</li></ul></li></ul></li><li>优势<ul><li>高性价比，普通盘高性能</li><li>易扩展，线性增删节点</li><li>高可靠：保存3副本，快速修改和迁移</li></ul></li></ul><h3 id="133-网络虚拟化-sdn">1.3.3 网络虚拟化 SDN</h3><table><thead><tr><th>应用层<th> <th> <th>业务应用<tbody><tr><td>控制层<td>SDN控制软件<td>网络服务<td>^API<tr><td>基础设施<td>网络设备<td>路由器、交换机、防火墙<td>^控制数据接口（OpenFlow）</table><ul><li>DSN/NFV<ul><li>SDN software define network<ul><li>核心<ul><li>控制面和数据面分离</li><li>通用路由器和交换机</li><li>控制面可编程</li></ul></li><li>场景<ul><li>数据中心网络</li></ul></li><li>优点<ul><li>处理OSI 2-3层（链路，网络），优化交换机、路由器、无线</li></ul></li></ul></li><li>NFV network function virtulization<ul><li>核心<ul><li>功能和硬件解耦</li><li>商业化硬件替代专用</li><li>数据面可编程</li></ul></li><li>场景<ul><li>运营商基础网络</li></ul></li><li>优点<ul><li>处理4-7层（传输、会话、表示、应用），优化网络功能、LB、FW、WAN</li></ul></li></ul></li></ul></li></ul><h3 id="134-openstack">1.3.4 OpenStack</h3><table><thead><tr><th>SERVICE<th>DESC<tbody><tr><td>Nova<td>计算<tr><td>Neutron<td>网络<tr><td>Keystone<td>认证和授权<tr><td>Glance<td>镜像<tr><td>Swift<td>对象存储服务<tr><td>Cinder<td>块存储服务<tr><td>Horizon<td>图形化管理界面<tr><td>Ceilometer<td>监控<tr><td>Heat<td>编排调度</table><ul><li>开源</li><li>标准</li><li>部署、运维、升级复杂</li><li>性能和扩展性差</li><li>容灾能力不足</li></ul><h3 id="134-vstation">1.3.4 VStation</h3><ul><li>自主研发的云计算管理平台</li><li>设计原则<ul><li>平行扩展、简洁高效、异步</li><li>Fail-fast、无状态、高可用</li><li>共享信道（以太网）</li><li>事务处理（SQL）</li><li>逻辑抽离（CGI）</li><li>易于追溯（git）</li></ul></li><li>架构<ul><li>[dispatcher] &lt;==&gt; <strong>API</strong> =&gt;<ul><li>[TaskCmen] <strong>MQ</strong> &lt;==&gt;<ul><li>&lt;==&gt;<ul><li>[Volume / cbs]</li><li>[dfw]</li></ul></li><li><strong>Compute Access</strong> &lt;==&gt;<ul><li><strong>Compute</strong></li></ul></li><li><strong>Image Access</strong> &lt;==&gt;<ul><li><strong>Image</strong></li></ul></li><li><strong>NetWork</strong> &lt;==&gt;<ul><li><strong>IP</strong></li><li><strong>VPC</strong></li></ul></li><li><strong>Scheduler</strong></li><li><strong>Resource</strong></li><li><strong>Error</strong></li><li><strong>Debug</strong></li></ul></li></ul></li></ul></li><li>OpenStack vs VStation<ul><li>集群：千台 / 十万</li><li>容灾：需开源组件支持 / 任一模块跨机房容灾</li><li>运维：需开发 / 监控、可视化运维</li><li>人员：百 / 十</li><li>性能：不支持100台同时创建 / 支持数万台同时创建</li></ul></li></ul><h3 id="135-容器">1.3.5 容器</h3><ul><li><p>轻量级虚拟化，进程隔离，应用和依赖环境、配置共同打包封装，提供独立可移植的运行环境</p><ul><li><table><thead><tr><th style="text-align: left">虚拟化<th>容器化<tbody><tr><td style="text-align: left">APP1 | APP2<td>APP1 | APP2<tr><td style="text-align: left">Bins/Libs | Bins/Libs<td>Bins/Libs | Bins/Libs<tr><td style="text-align: left">GuestOS | GuestOS<td>容器引擎<tr><td style="text-align: left">虚拟化层<td>虚拟化层/操作系统<tr><td style="text-align: left">硬件<td>硬件</table></li></ul></li></ul><h4 id="docker">Docker</h4><ul><li>标准化，移植性强，<strong>Build, Ship and Run Anywhere</strong></li><li>管理<ul><li>K8S（Kubernetes）开源容器编排管理调度</li></ul></li><li>优势<ul><li>轻量</li><li>秒级部署</li><li>易于移植</li><li>弹性伸缩</li></ul></li></ul><h3 id="136-大数据--ai">1.3.6 大数据 &amp; AI</h3><ul><li>未来互联网就是利用人工智能在云端处理大数据。—Pony Ma</li><li>大数据<ul><li>数据量大</li><li>价值密度低</li><li>多样化</li><li>高速产生</li></ul></li><li>AI<ul><li>大数据</li><li>算法</li><li>算力</li><li>边界清晰</li></ul></li></ul><h2 id="14-行业">1.4 行业</h2><ul><li>互联网：C2C / B2C</li><li>互联网+：B2B2C</li><li>产业互联网：C2B2B2C</li></ul><h1 id="ii-云服务器v20">II. 云服务器V2.0</h1><h2 id="21-基础">2.1 基础</h2><h3 id="211-地域和可用区">2.1.1 地域和可用区</h3><ul><li><strong>可用区 Zone</strong><ul><li>统一地域内电力和网络互相独立的物理数据中心，命名=城市 + 编号</li></ul></li><li><strong>地域 region</strong><ul><li>一个独立的地理去域名，命名=覆盖范围+机房所在城市</li></ul></li><li>云：25个地域+53个可用区</li><li>部署多地域多可用区<ul><li>就近接入</li><li>隔离故障</li><li>LB</li><li>HA</li></ul></li></ul><h3 id="212-实例">2.1.2 实例</h3><ul><li><p>实例</p><ul><li>完整的云服务器（VM），CPU、内存、磁盘、网络、OS</li><li>命名=系列.机型.规格（vCPU核心数和内存大小）</li><li>S4.MEDIUM4</li></ul></li><li><p>管理</p><ul><li>控制台或者API管理</li><li>在线调整实例配置，重启生效</li></ul></li><li><p>安全</p><ul><li>策略</li><li>安全组</li><li>登录控制</li></ul></li><li><p>规格</p><ul><li><table><thead><tr><th>标准型<th>S1<th>S2<th>S3<th>S4<tbody><tr><td>CPU<td>Intel Xeon<td>Xeon Broadwell V4<td>Skylake 6133<td>Skylake 6148<tr><td>内存<td>DDR3<td>DDR4<td>最新DDR4<td>最新DDR4<tr><td>内网带宽<td>10Gbps<td>10Gbps<td>10Gbps<td>25Gbps<tr><td>Max规格<td>48C96G<td>56C224G<td>80C320G<td>72C228G</table></li></ul></li><li><p>实例类型</p><ul><li>不同配置实现不同的IO、计算、网络、存储能力</li><li>选择CVM实例</li></ul></li><li><p>实例族</p><ul><li>某一类实例类型集合</li></ul></li><li><p>实例类型</p><ul><li><table><thead><tr><th>类型<th>特点<th>场景<tbody><tr><td>标准<td>均衡计算、内存和网络<td>中小Web应用、数据库、企业官网<tr><td>内存<td>大内存<td>大量的内存操作、查找和计算、分布式内存缓存<tr><td>高IO<td>高IO、高吞吐量、低时延<td>NoSQL、集群化数据库、OLTP系统<tr><td>计算<td>高主频CPU、最高性价比<td>高流量Web、MMO游戏、HPC</table></li></ul></li></ul><h3 id="213-云服务器镜像">2.1.3 云服务器镜像</h3><ul><li>定义<ul><li>创建云服务器的模板，提供操作系统和软件配置</li></ul></li><li>作用<ul><li>批量部署</li><li>特定软件部署</li><li>运行环境备份</li></ul></li><li>镜像类型<ul><li>公有</li><li>服务市场</li><li>自定义</li><li>共享</li></ul></li><li>镜像优势<ul><li>部署时长： 3 -5 min</li><li>过程：快速创建合适和云服务器</li><li>安全性：测试审核、安全加固</li><li>适用情况：四种镜像</li></ul></li></ul><h3 id="214-云服务器存储">2.1.4 云服务器存储</h3><ul><li>介质<ul><li>普通云硬盘</li><li>高性能云硬盘</li><li>SSD云硬盘</li></ul></li><li>场景<ul><li>系统盘</li><li>数据盘</li></ul></li><li>架构<ul><li>本地盘</li><li>云硬盘</li><li>对象存储</li></ul></li></ul><h3 id="215">2.1.5</h3><ul><li>虚拟主机 &gt; 独立主机 &gt; VPS &gt; 云服务器</li></ul><h3 id="221-cvm-cloud-virtual-machine">2.2.1 CVM (Cloud Virtual Machine)</h3><ul><li>弹性伸缩的计算服务<ul><li>弹性伸缩，分钟</li><li>灵活配置，CPU、内存、带宽</li><li>稳定可靠，3副本</li><li>管理简单，API/CLI/控制台</li><li>安全网络，VPC/ACL/安全组</li><li>全面防护，木马/漏洞/破解</li></ul></li><li>业务，电商<ul><li>需求<ul><li>突发流量井喷</li><li>业务保障、成本控制</li></ul></li><li>方案<ul><li>标准CVM、镜像，S2 1C1G</li><li>弹性伸缩组：闲时减实例，忙时增实例</li></ul></li></ul></li></ul><h3 id="222-gpu">2.2.2 GPU</h3><ul><li>高速并行计算和浮点计算</li><li>高并行、高吞吐、低时延，科学计算性能比传统架构高50倍</li><li>CPU：几十个核心、复杂逻辑控制单元、强大的算术逻辑单元、逻辑控制、串行运算</li><li><p>GPU：数千个加速核心，众多ALU、多线程超大并行，计算密集，并行计算</p></li><li>计算型GPU<ul><li>深度学习：训练和推理、图像、语音识别</li><li>科学计算：建模、基因组、金融</li><li>视频编码：高清视频编码</li></ul></li><li>渲染型GPU<ul><li>图形工作站：动画、游戏、建模</li><li>非线性编辑：电源特效</li></ul></li><li>需求<ul><li>AI算法建模</li><li>高计算能力</li></ul></li><li>方案<ul><li>GPU实例 Tesla M40 GDDR5 24GB</li><li>缩短深度学习和训练时间</li><li>避免采购昂贵硬件</li></ul></li></ul><h3 id="223-fpga-field-programmable-gate-array">2.2.3 FPGA (Field Programmable Gate Array)</h3><ul><li><strong>现场可编程阵列</strong>的计算服务</li><li>FPGA 镜像在几min内部署实例，实现硬件加速</li><li>3种类型<ul><li>FX2.7xlarge60 1 14C60GB</li><li>FX2.14xlarge120 2 28C120GB</li><li>FX2.28xlarge240 4 56C240GB</li></ul></li><li>优势<ul><li>硬件加速，协同执行，运行速度比CPU快20倍</li><li>硬件可编程，FPGA可重复编程，自定义硬件加速</li><li>产权交易平台，统一规范和安全可靠的FPGA硬件平台和服务市场</li></ul></li><li>场景<ul><li>深度学习</li><li>实时图像压缩处理</li></ul></li></ul><h3 id="224-专用宿主机cdh-cvm-dedicated-host">2.2.4 专用宿主机CDH CVM Dedicated Host</h3><ul><li>独享主机资源、搭建平台、创建主机</li><li>优势<ul><li>物理隔离</li><li>资源独享</li><li>安全合规</li><li>灵活配置</li></ul></li><li>场景<ul><li>金融业务：安全合规</li><li>高性能业务：资源独享</li></ul></li></ul><h3 id="225-黑石-cpm">2.2.5 黑石 CPM</h3><ul><li>黑石物理服务器 Cloud Physical Machine<ul><li>按需购买、按量付费的物理服务器租赁服务</li><li>云端专用、高性能、安全隔离的物理集群</li></ul></li><li>黑石 Stack-V，深度整合VMware<ul><li>混合云</li><li>深度整合VMware套件，包括vSphere6.5、vSAN6.6、NSX6.3等，VMware许可</li><li>通过互联网，整合云产品</li></ul></li><li>黑石 ARM，CPM for ARM<ul><li>需求：移动端游戏真机测试</li><li>方案：黑石ARM实例，运行android模拟器，测试</li></ul></li><li>黑石 OpenPOWER，CPM for OpenPOWER<ul><li>需求：大数据处理、高并发IO，大内存、高速传输</li><li>黑石OpenOPWER，高主频、并发线程多、内存带宽大、缓存大</li></ul></li></ul><h3 id="231-云服务计费模式">2.3.1 云服务计费模式</h3><ul><li>购买渠道<ul><li>官网Portal购买，控制台</li><li>API购买</li></ul></li><li>模式<ul><li>包年包月 PrePaid</li><li>按量付费 PostPaid</li><li>阶梯计价、越多越省，量越大、时间越长、单价越低</li></ul></li><li>价格计算器<ul><li>产品选型配置，价格计算，直接购买，导出清单</li></ul></li><li>包年包月<ul><li>一次支付一个月或多月、多年的费用</li><li>退款，五天无理由</li><li>场景，低成本、长期、稳定</li><li>流程<ul><li>选购 - 订单 - 账单 - 到期处理 - 续费</li></ul></li><li>停服回收<ul><li>到期预警，前7-前1天，续费通知，自动续费不足通知</li><li>欠费预警，到期当天，断网关机保留数据，系统通知</li><li>资源停服，当期当天-后7天，联系客服续费恢复</li><li>资源销毁，到期后8天，清除数据销毁资源，不可恢复</li></ul></li></ul></li><li>按量付费<ul><li>后付费，一定结算周期</li><li>业务波动大，资源使用临时性、突发性</li><li>流程<ul><li>充值 - 开通 - 冻结 - 解冻 - 账单 - 欠费 &lt;</li></ul></li><li>冻结机制<ul><li>系统根据结算周期和历史使用情况，预估冻结一定的余额，下次结算或资源释放时解冻</li><li>月结<ul><li>每月计算日，解冻之前的费用，并扣费</li><li>再次计算冻结费用<ul><li>设备资源：上月底Last day实际使用云服务量 X 30 X 单价</li><li>流量类资源：上月费用的X1或X1.2</li></ul></li><li>调整配置，先解冻，在按照新配置冻结</li><li>资源释放，下月结算日3号，解冻</li></ul></li><li>时结/日结<ul><li>购买，冻结1~2个结算周期的费用</li><li>调整配置，先解冻，在按照新配置单价冻结</li><li>资源释放，下月结算日3号，解冻</li></ul></li><li>回收机制<ul><li>生成账单，结算周期，生成账单进行扣费，余额不足进入欠费状态；</li><li>欠费保护，时：2小时，天：1天，推送欠费提醒，继续使用；冲正前，不能新开通服务</li><li>欠费停服，时：24小时，天：30天，系统推送停服通知，资源被强制关停；充值后，控制台重新启动；冲正前，不能新开通服务</li><li>欠费回收，超过欠费停服期，销毁回收，不可恢复；冲正前，不能新开通服务</li></ul></li><li>限制<ul><li>不支持代理商代父</li><li>不支持代金券</li><li>不支持5天无理由</li><li>不支持切换包年包月</li></ul></li></ul></li></ul></li></ul><h3 id="234-计费方案">2.3.4 计费方案</h3><ul><li>CVM 费用 = 实例费用（CPU+Mem）+ 存储费用 + 带宽费用</li><li>模式<ul><li>包年包月<ul><li>预付</li></ul></li><li>按量计费<ul><li>后付费，按秒，按小时</li><li>阶梯：0 &lt; T1 &lt;= 96H &lt;= T2 &lt;= 360H &lt; T3</li><li>部分不支持关机不收费</li></ul></li></ul></li><li>方案<ul><li>包年包月<ul><li>元/月</li><li>单价低</li><li>使用一个月</li><li>升配无限制，降配5次</li></ul></li><li>按量计费<ul><li>元/秒</li><li>初始单价高，阶梯降价，96小时，360小时，使用15天后，单价基本接近包年包月</li><li>按秒计费，按小时结算</li><li>随时升降配置，无限制</li></ul></li></ul></li><li>实例购买限额<ul><li>包年包月150，100（新加坡1，多伦多1，硅谷1）</li><li>按量付费30，20（香港1，多伦多1，硅谷1）</li></ul></li><li>云服务器计费方案<ul><li>CVM，包年包月、按秒、按时</li><li>GPU，包年包月、按秒、按时</li><li>FPGA，内测</li><li>CDH，包年包月</li><li>CPM黑石，包年包月、按秒、按时</li></ul></li></ul><h1 id="iii-网络产品">III. 网络产品</h1><h3 id="311-私有网络vpc">3.1.1 私有网络VPC</h3><ul><li><strong>Virtual Private Cloud</strong>, 是用户自定义的，逻辑隔离的专属云上网络空间<ul><li>不同VPC完全逻辑隔离</li><li>SDN的方式管理VPC、实现IP地址，子网、路由表、网络ACL、流日志</li><li>多种连接，弹性IP，NAT网关，VPN</li></ul></li><li>私有网络连接<ul><li>每个私有网络内的服务资源内网互通</li><li>不同VPC之间内网默认不通</li><li>用 ”对等连接“ 和 ”云联网“ 实现同一个账户下的VPC子网互通</li></ul></li><li>VPC内部<ul><li>自有定义网段划分、IP、路由策略，部署云服务器、LB、云数据库</li><li><strong>对等连接和基础网络互通功能</strong>，连接内网资源，实现同服和两地三中心容灾</li><li>ACL和安全组，保证网络安全性</li></ul></li><li>VPC<ul><li>自定义网络<ul><li>自定义 <strong>网段、子网、路由策略</strong>，部署服务</li></ul></li><li>灵活、高性能访问<ul><li><strong>性IP、NAT网关和公网网关</strong> 访问Internet</li></ul></li><li>稳定可靠的数据中心连接<ul><li>混合云，连接云上计算资源和本地数据中心，使用 <strong>公网VPN</strong> or <strong>专线</strong> 接入</li></ul></li><li>灵活互通<ul><li><strong>对等连接和基础网络互通</strong> 实现私有网络的资源互通</li></ul></li><li>多维度安全<ul><li><strong>网络ACL和安全组</strong> 实现端口和实例维度的资源访问控制</li></ul></li></ul></li></ul><h3 id="312-vpc网段">3.1.2 VPC网段</h3><ul><li><p>私有网段</p><ul><li>10.0.0.0 - 10.255.255.255 [掩码16-28]</li><li>172.16.0.0 - 172.31.255.255 [掩码16-28]</li><li>192.168.0.0 - 192.168.255.255 [掩码16-28]</li></ul></li><li><p>子网</p><ul><li>云资源部署在子网内，CVM和CDB</li><li>通过DHCP获取私有IP，不能在公网路由</li><li>每个子网可用IP数量，2^n - 3 （n为主机位的位数）</li></ul></li><li><p>CIDR (Classless Inter-Domain Routing)</p><ul><li>支持「私有网段」中的任意一个</li></ul></li><li><p>子网</p><ul><li>一个VPC至少有一个子网组成，子网的CIDR必须在VPC的CIDR内，VPC的所有云资源必须部署在子网内</li><li>VPC具有地域（Region）属性</li><li>子网具有可用区（Zone）属性</li><li>一个私有网络下的子网属于该地域的不同可用区</li><li>同一VPC下各子网内资源默认互通</li></ul></li><li><p>默认私有网络和子网</p><ul><li>默认私有网络和自行创建的私有网络功能完全一致</li><li>默认VPC不会占用某个地域下的VPC配额，不需要默认VPC和子网可自行删除</li></ul></li><li><p>子网划分</p><ul><li><table><thead><tr><th><u>xxxx xxxx.</u><th><u>xxxx xxxx.</u><th><u>xxxx xxxx.</u><th><u>xxxx xxxx.</u><th>xxxx xxxx.<tbody><tr><td>子<td>网<td>掩<td>码 <strong>[24]</strong><td>主机位</table></li><li><p>子网划分</p><ul><li>通过设置子网的位数，来决定可用的子网数和主机IP数<ul><li>子网位数为m，主机位数为2^(32-m) - 3</li><li>10.3.5.7/24<ul><li>主机数量=2^(32-24) - 3</li><li>网络地址10.3.5.0，广播10.3.5.255</li></ul></li></ul></li></ul></li></ul></li></ul><h3 id="313-vpc路由表">3.1.3 VPC路由表</h3><ul><li>VPC内互通，不同VPC内网不通，通过路由表实现子网间、子网与外部的路由通信</li><li>路由表<ul><li>每个私有网络有一个默认路由，用户可以创建自定义路由表；</li><li>由多条路由策略组成</li><li>用于控制VPC内子网的出流量方向</li><li>每个子网只能关联一个路由表，一个路由表可以关联多个子网</li><li>分类<ul><li>默认路由表<ul><li>创建VPC自动生成</li><li>新建子网自动关联默认路由表</li><li>添加删除修改路由策略，无法删除默认路由</li></ul></li><li>自定义路由表<ul><li>可以删除</li><li>为相同策略的子网，创建一个路由表，将路由协议与所有子网关联</li><li>创建时关联、创建后关联</li></ul></li></ul></li></ul></li><li>路由策略<ul><li>目的端<ul><li>目的网段</li><li>不能为路由表所在VPC的IP段，Local路由已经表示过此VPC内网默认互通</li></ul></li><li>下一跳类型<ul><li>数据包出口，支持类型：NAT网关、云服务器等</li></ul></li><li>下一跳<ul><li>指定具体跳转的下一跳实例，ID标识</li></ul></li></ul></li><li>路由策略优先级<ul><li>多条策略，由高到低<ul><li>私有网络内流量</li><li>最精确路由（最长前缀匹配，优先匹配掩码最长的路由策略并确定下一跳）</li><li>公网IP</li></ul></li></ul></li></ul><h3 id="314-vpc-访问控制">3.1.4 VPC 访问控制</h3><ul><li><p>ACL <strong>(Access Control List)</strong></p><ul><li>控制进出子网的数据流</li><li>子网级别无状态的可选安全层</li><li>协议和端口</li></ul></li><li><p>安全组</p><ul><li>配置放通和拒绝的端口/协议</li><li>有状态的包过滤功能的虚拟防火墙，用于设置云服务器的实例级别的网络访问控制</li><li>安全隔离手段</li></ul></li><li><table><thead><tr><th>安全组<th>ACL<tbody><tr><td>CVM实例级别的流量控制 【第一层】<td>子网级别的流量控制 【第二层】<tr><td>放通和拒绝的端口/协议<td>放通和拒绝的端口/协议<tr><td>有状态：返回数据被自动允许<td>无状态：返回数据必须明确规则<tr><td>启动CVM，指定安全组，关联实例<td>自动应用到子网内的所有CVM实例，可以做备份安全层</table></li></ul><h3 id="315-弹性网卡">3.1.5 弹性网卡</h3><ul><li><strong>ENI [Elastic Network Interface]</strong></li><li>绑定私有网络云服务器的弹性网络接口，可以自有迁移</li><li>优势<ul><li>多网卡</li><li>网络隔离</li><li>灵活迁移</li></ul></li><li>绑定多个ENI，实现HA</li><li>单个ENI绑定多个IP，实现单机多IP</li><li>多网卡<ul><li>创建时自动生成的网卡</li><li>主持绑定多个辅助弹性网卡</li><li>弹性网卡可以属于同一个VPC下的不同子网</li><li>支持独立的安全组</li><li>配置独立的路由和转发策略</li></ul></li><li>灵活迁移<ul><li>自由地在同VPC和同可用区下的云服务器之间自由迁移</li><li>绑定，保留内网IP、弹性公网IP，安全组策略</li><li>迁移后无需重新配置关联关系</li></ul></li><li>网络隔离<ul><li>绑定同VPC可可用区的不同子网的弹性网卡，设定独立的路由转发策略，实现隔离</li><li>云服务器内设定策略，失信特定目的端的流量指向不同的网卡</li></ul></li></ul><h3 id="321-网络连接">3.2.1 网络连接</h3><ul><li>对等连接<ul><li>不同VPC之间内网互通</li></ul></li><li>云联网<ul><li>不同VPC之间内网互通</li><li>私有网络接入私有数据中心</li></ul></li><li>弹性IP、NAT网关、公网网关<ul><li>访问公网</li></ul></li><li>VPN<ul><li>私有网络接入私有数据中心</li></ul></li><li>专线<ul><li>私有网络接入私有数据中心</li></ul></li><li>基础网络互通<ul><li>基础网络和私有网络内网通信</li></ul></li><li>安全组和ACL<ul><li>多维度网络安全</li></ul></li></ul><h3 id="322-公网接入">3.2.2 公网接入</h3><ul><li><p>VPC里的服务器，绑定公网IP来实现</p><ul><li>普通公网IP，CVM上申请绑定，解绑后释放，无法找回</li><li>弹性公网IP，EIP<ul><li>关联帐号，解绑保留，重新绑定</li><li>提供外网访问能力</li><li>EIP，独立申请，支持CVM/NAT网关实例动态绑定和解绑</li><li>释放<ul><li>用户控制台/API释放</li><li>欠费释放，余额小于0且超过2小时，免费保留24H，24+2H后释放</li></ul></li></ul></li></ul></li><li><p>公网网关</p><ul><li>是开启了转发功能的主机</li><li>通过不同子网的公网网关访问Internet</li><li>做源地址转换</li><li>购买是没有勾选，则购买后无法切换</li><li>有公网流量转发功能，为其他云主机转发，公网IP的主机没有转发能力</li></ul></li><li><p>公网网关所在子网</p><ul><li>只能转发 <strong>非所在子网</strong> 的路由转发请求，不能与使用网关的服务在一个子网下</li></ul></li><li><p>NAT网关</p><ul><li>通过IP地址转换提供Internet访问</li><li>SNAT，源地址转换</li><li>DNAT，目的地址转换</li><li>网关流量、流量高级、共享带宽包</li></ul></li><li><p>NAT [NAT Gateway]</p><ul><li>IP地址转换的网络云服务</li><li>访问Internet</li><li>不暴露公网</li><li>IP流量管理，异常流量定位</li><li>海量并发</li><li>SNAT [Source Network Address Translation]<ul><li>同一公网IP访问，支持5GB</li></ul></li><li>DNAT [Destination Network Address Translation]<ul><li>将内网IP、协议、端口映射成外网IP、协议、端口，是云服务器能被外网访问</li></ul></li><li>网关监控<ul><li>限制内IP和NAT带宽</li></ul></li><li>流量告警<ul><li>阈值告警</li></ul></li><li>共享带宽包<ul><li>多个IP共享公网带宽，不同流量错峰</li></ul></li><li>安全高仿<ul><li>BGP做DDoS和CC防护，最高310Gbps防护</li></ul></li><li>自动容灾<ul><li>双机热备、自动容灾</li><li>单机故障自动切换，业务无感知</li><li>可用性高达99.99%</li></ul></li></ul></li><li><p>公网接入的对比</p><ul><li><p>NAT vs 公网网关 的优势</p><ul><li>大容量</li><li>双机热备高可用</li><li>省成本</li><li>使用约束<ul><li>公网网关最大100Mbps，可以购买形成出口集群</li><li>通过路由表汇总配置目的端路由，转发流量可以在网关间LB</li><li>公网网关不支持NAT接入</li><li>专线网关、VPN网关不支持NAT接入</li><li>网关子网和普通子网不能关联到同一张路由表，需要新建</li></ul></li></ul><table><thead><tr><th>NAT<th>公网网关<tbody><tr><td>双机热备、自动热切换<td>手动故障切换<tr><td>带宽最大5G<td>取决于与服务器带宽<tr><td>最多绑定10个弹性IP<td>1个弹性IP或普通公网IP<tr><td>无限速<td>云服务器限速<tr><td>最大1000万连接<td>50万<tr><td>不占VPC内网IP<td>内用内网IP<tr><td>不支持安全组<td>支持安全组</table></li></ul></li></ul><h3 id="323-dc连接">3.2.3 DC连接</h3><ul><li><strong>Direct Connect</strong> 专线<ul><li>物理专线</li><li>专用通道</li><li>专线网关</li><li>多地域</li><li>多端口协议，100Base-T,1000Base-T, 1000Base-LX, 10GBase-LR 四种端口，MSTP，SDH，OTN，DWDM多种协议</li><li>双线接入</li><li>NAT</li></ul></li><li>VPN<ul><li>安全加密网络隧道</li><li>IKE，IPsec数据加密</li><li>监控告警<ul><li>无需额外收费</li></ul></li></ul></li></ul><h3 id="324-对等连接">3.2.4 对等连接</h3><ul><li>大带宽、高质量互通服务<ul><li>多VPC，多地域，多账户异构</li><li>5GB以上</li></ul></li></ul><h3 id="325-云联网">3.2.5 云联网</h3><ul><li>内网互联、全网互联、学习调度、路由自动下发</li></ul><h3 id="331-clb">3.3.1 CLB</h3><ul><li>Cloud Load Balancer</li></ul><h3 id="332-流量分发算法">3.3.2 流量分发算法</h3><ul><li>四层负载均衡<ul><li>TCP、UDP，端口+VIP转发</li></ul></li><li>七层<ul><li>HTTP和HTTPS，基于内容转发</li></ul></li><li>算法<ul><li>加权轮训算法</li><li>加权最小连接数算法</li><li>源地址散列算法</li></ul></li><li>公网负载均衡</li><li>内网负载均衡</li><li>流量分发<ul><li>接入层服务器，配置一致的Docker容器承载</li></ul></li><li>横向扩展，Autoscaling动态伸缩组</li></ul><h3 id="334-clbcdn">3.3.4 CLB+CDN</h3><ul><li>通过CLB+CDN将不同的流量分发到对应集群</li><li>业务分离</li></ul><h2 id="34-网络计费">3.4 网络计费</h2><ul><li>免费<ul><li>内网同地域免费，不同子网通信，同地域连接免费；</li><li>普通公网IP免费</li><li>帮定CVM或NAT的弹性IP</li></ul></li><li>收费<ul><li>为绑定CVM和NAT的弹性IP</li><li>闲置的EIP，计算到S，闲置费用 0.2 * (xs/3600)</li></ul></li><li>公网网关本质是云服务器实例</li><li>NAT<ul><li>网关费用+Internet流量费用</li><li>共享带宽包，按照整体结算，出带宽产生高额费用</li><li>BGP线路</li><li>带宽计费<ul><li>公网传输速率 Mbps 计费</li><li>包年包月、按带宽使用时长计费</li></ul></li><li>流量计费，总流量GB</li></ul></li></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84-%E5%BA%94%E7%94%A8/'>体系结构-应用</a>, <a href='/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/'>云计算</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cloudcomputing/" class="post-tag no-text-decoration" >CloudComputing</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=cloud-qualification - TeddyGoodman&url=http://localhost:4000/posts/cloud-qualification/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=cloud-qualification - TeddyGoodman&u=http://localhost:4000/posts/cloud-qualification/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=cloud-qualification - TeddyGoodman&url=http://localhost:4000/posts/cloud-qualification/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/go/">Go</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/sumof2019/">SumOf2019</a> <a class="post-tag" href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/cpython/">CPython</a> <a class="post-tag" href="/tags/c%26c%2B%2B/">C&C++</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-3">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/workflow/" class="btn btn-outline-primary"><p>workflow工作流</p></a> <a href="/posts/macos-configuration/" class="btn btn-outline-primary"><p>MacOS配置</p></a></div><!-- The related posts of current post. Placed in the bottom of every single post. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/RabbitMQ-pub-sub/"><div class="card-body"> <span class="timeago small"> Feb 20, 2019 <i class="unloaded">2019-02-20T10:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RabbitMQ & AMQP</h3><div class="text-muted small"><p>RabbitMQ</p></div></div></a></div><div class="card"> <a href="/posts/Sum-of-2019-RabbitMQ/"><div class="card-body"> <span class="timeago small"> Dec 1, 2019 <i class="unloaded">2019-12-01T10:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>SumOf2019 - RabbitMQ</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/posts/Redis/"><div class="card-body"> <span class="timeago small"> Apr 6, 2020 <i class="unloaded">2020-04-06T10:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Redis学习及源码分析</h3><div class="text-muted small"><p>Redis学习及源码分析 编译安装 CentOS Linux release 7.4.1708 (Core) redis官网下载最新稳定版 安装链接所需静态库 libhiredis libjemalloc liblua / lua-static 使用make 调用gcc驱动程序进行编译、链接并生成可执行二进制文件...</p></div></div></a></div></div></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const el = document.querySelectorAll('#post-wrapper img'); const observer = lozad(el); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/TeddyGoodman">TeddyGoodman</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://github.com" target="_blank">Github.</a></p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted">Trending Tags</h4><!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/go/">Go</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/sumof2019/">SumOf2019</a> <a class="post-tag" href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/cpython/">CPython</a> <a class="post-tag" href="/tags/c%26c%2B%2B/">C&C++</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="http://localhost:4000{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> <script src="/assets/live2d-widget/autoload.js"></script>
